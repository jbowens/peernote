{% extends 'base/application_main.html' %}
{% block styles %}
    {{ super() }}
    {% assets "login_css" %}
        <link rel="stylesheet" type="text/css" href="{{ ASSET_URL }}" />
    {% endassets %}
{% endblock %}

{% block scripts %}
    {{ super() }}
    {% assets "login_js" %}
        <script type="text/javascript" src="{{ ASSET_URL }}"></script>
    {% endassets %}
{% endblock %}

{% block content %}

<div class="page-container forms-wrapper top-margin bottom-margin log-in">
    {% if is_logged_in %}
        <div class="error">
            You're already logged in!
            <div class="log-out">
                <a href="/log-out">log out</a>
            </div>
        </div>
    {% else %}
        <div class="table-wrapper">
            <h1 id="welcome">Welcome Back </h2>
            {% include "shared/flashes.html" %}
            <table>
                <form method="post" id="log-in">
                    {% if next_location %}
                    <input type="hidden" name="next_location" value="{{ next_location }}" />
                    {% endif %}
                    <tr class="field">
                        <td>
                            <input class="textfield" type="text" 
                                placeholder="Email" id="login_email" name="email" />
                            <div class="form-error-message hidden">Invalid email</div>
                        </td>
                    </tr>
                    <tr class="field">
                        <td>
                            <input class="textfield" type="password" 
                                placeholder="Password" id="login_password" name="password" />
                            <div class="form-error-message hidden">Required field</div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input id="login" class="button-field" 
                                type="submit" value="Log In" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p class="forgot-password"> 
                                <a class="sign-up-link" href="{{ url_for('users.signup') }}">
                                    Still need to sign up?
                                </a>
                                <a class="password-forgot-link" 
                                    href="{{ url_for('users.forgot_password') }}">
                                    Forgot your password?
                                </a> 
                            </p>
                        </td>
                    </tr>
                </form>
            </table>
        </div>
    {% endif %}
</div>

{% endblock %}
